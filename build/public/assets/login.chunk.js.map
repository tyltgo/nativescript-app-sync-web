{"version":3,"file":"login.chunk.js","sources":["webpack:///src/containers/LoginContainer.js","webpack:///src/components/Login/Login.js"],"sourcesContent":["import React, {Component} from 'react';\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport _ from 'lodash';\nimport * as usersActions from '../actions/usersActions';\nimport * as routesActions from '../actions/routesActions';\nimport Login from '../components/Login';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\n\nclass LoginContainer extends Component {\n  componentWillReceiveProps(newProps) {\n    if (_.get(this.props, 'auth.isAuth') != _.get(newProps, 'auth.isAuth')\n    && _.get(newProps, 'auth.isAuth')) {\n      this.props.actions.goBackHistory();\n    }\n  }\n\n  componentDidMount() {\n    if (_.get(this.props, 'auth.isAuth')) {\n      this.props.actions.goBackHistory();\n    }\n  }\n\n  render() {\n    const {login, actions } = this.props;\n    return (\n      <div>\n        <Header/>\n        <Login\n          isFetching={_.get(login, 'isFetching')}\n          account={_.get(login, 'account')}\n          password={_.get(login, 'password')}\n          accountInputChange={actions.loginChangeAccountInput}\n          passwordInputChange={actions.loginChangePasswordInput}\n          submit={()=>actions.fetchLogin(\n            _.get(login, 'account'),\n            _.get(login, 'password')\n          )}\n          error={_.get(login, 'error')}\n        />\n        <Footer/>\n      </div>\n\n    );\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {'login': _.get(state, 'login', {}), 'auth': _.get(state, 'auth', {})};\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    actions: bindActionCreators(Object.assign({}, usersActions, routesActions), dispatch)\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginContainer)\n\n\n\n// WEBPACK FOOTER //\n// src/containers/LoginContainer.js","import React, { PropTypes, Component } from 'react';\nimport _ from 'lodash';\nimport {\n  Col,\n  ControlLabel,\n  Form,\n  FormGroup,\n  FormControl,\n  Checkbox,\n  Button,\n  Panel,\n} from 'react-bootstrap';\nimport Link from '../Link';\n\nclass Login extends Component {\n  static propTypes = {\n    isFetching: PropTypes.bool,\n    account: PropTypes.string,\n    password: PropTypes.string,\n    accountInputChange: PropTypes.func,\n    passwordInputChange: PropTypes.func,\n    submit: PropTypes.func,\n    error: PropTypes.object\n  };\n  static defaultProps = {\n    isFetching: false,\n    account: '',\n    accountInputChange: (account)=>{},\n    password: '',\n    passwordInputChange: (password)=>{},\n    submit: (account, password)=>{},\n    error: {}\n  };\n  constructor() {\n    super();\n    this.setInputAccount = this.setInputAccount.bind(this);\n    this.setInputPassword = this.setInputPassword.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n  submit() {\n    if (this.props.isFetching) {\n      return;\n    }\n    this.props.submit();\n  }\n\n  setInputAccount(event) {\n    this.props.accountInputChange(event.target.value);\n  }\n\n  setInputPassword(event) {\n    this.props.passwordInputChange(event.target.value);\n  }\n\n  render() {\n    return (\n      <div style={{height:650, paddingLeft: 20, paddingRight:20 }}>\n        <Panel header=\"Log in\" style={{ maxWidth:350, marginLeft:\"auto\", marginRight: \"auto\" }}>\n          <Form>\n            <FormGroup>\n              <ControlLabel>Email address</ControlLabel>\n              <FormControl\n                onChange={this.setInputAccount}\n                value={this.props.account}\n                type=\"email\"\n                placeholder=\"Email address\"\n                autoFocus\n                />\n            </FormGroup>\n            <FormGroup>\n              <ControlLabel>Password</ControlLabel>\n              <FormControl\n                onChange={this.setInputPassword}\n                value={this.props.password}\n                type=\"password\"\n                placeholder=\"Password\"\n              />\n            </FormGroup>\n            <FormGroup style={{ paddingTop: 20 }}>\n              <div style={{ color:'red' }} >\n              {_.get(this.props, 'error.errorMessage')}\n              </div>\n            </FormGroup>\n            <FormGroup>\n              <Button\n                style={{width: \"100%\"}}\n                bsStyle=\"primary\"\n                onClick={this.submit}\n                disabled={this.props.isFetching}\n              >\n              {this.props.isFetching ? 'Logging in...' : 'Log in'}\n              </Button>\n            </FormGroup>\n            <FormGroup style={{ paddingTop: 28 }}>\n              <span style={{ marginRight: 20 }}>No account yet?</span>\n              <Link to=\"/register\">Register</Link>\n            </FormGroup>\n          </Form>\n        </Panel>\n      </div>\n    );\n  }\n}\nexport default Login;\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login/Login.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAIA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAdA;AAkBA;;;;AAnCA;AACA;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC3DA;AACA;AACA;AAUA;AACA;AACA;;;AAmBA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AANA;AADA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAnCA;AADA;AADA;AA6CA;;;;AAvFA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AADA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AA8EA;;;;A","sourceRoot":""}